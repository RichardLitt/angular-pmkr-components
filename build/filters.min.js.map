{"version":3,"file":"filters.min.js","sources":["filters.js","limitEllipsis\\limitEllipsis.js","partition\\partition.js","offset\\offset.js","shuffle\\shuffle.js","spaceSentences\\spaceSentences.js","stripTags\\stripTags.js","slugify\\slugify.js"],"names":[],"mappings":"AAAA,QAAA,OAAA,2BACA,cACA,iBACA,eACA,eACA,iBACA,sBACA,uBCPA,QAAA,OAAA,sBACA,iBACA,wBAGA,OAAA,sBACA,UACA,SAAA,GAMA,QAAA,GAAA,EAAA,EAAA,GAEA,IAAA,IAAA,EAAA,OAAA,MAAA,EAEA,GAAA,GAAA,KAEA,IAAA,GAAA,EAAA,EAAA,IAEA,EAAA,EAAA,EAAA,EAEA,OAAA,KAAA,EACA,EAGA,EAAA,EAlBA,GAAA,GAAA,EAAA,kBACA,EAAA,EAAA,uBACA,EAAA,EAAA,UAoBA,OAAA,MC/BA,QAAA,OAAA,kBACA,yBAGA,OAAA,kBACA,uBACA,SAAA,GAEA,GAAA,GAAA,EAAA,SAAA,EAAA,GAEA,IAAA,IAAA,EACA,MAAA,EAKA,KAAA,GAFA,MAEA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,EACA,EAAA,KAAA,EAAA,MAAA,EAAA,EAAA,GAGA,OAAA,IAIA,OAAA,MCxBA,QAAA,OAAA,kBAEA,OAAA,eACA,WAEA,QAAA,GAAA,EAAA,GAEA,MAAA,IAAA,EAAA,QAEA,EAAA,SAAA,EAAA,IACA,EAAA,MAAA,IAHA,EAOA,MAAA,MCdA,QAAA,OAAA,gBACA,yBAGA,OAAA,gBACA,uBACA,SAAA,GAiBA,QAAA,GAAA,GAIA,IAFA,GAAA,GAAA,EAAA,OAEA,IAAA,GAAA,CAEA,GAAA,GAAA,KAAA,MAAA,KAAA,SAAA,EACA,IAAA,CAEA,IAAA,GAAA,EAAA,EACA,GAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAGA,MAAA,GA7BA,GAAA,GAAA,EAAA,SAAA,GAEA,MAAA,GAEA,gBAAA,IACA,EAAA,EAAA,MAAA,IACA,EAAA,GACA,EAAA,KAAA,SAEA,GAAA,GAPA,GA+BA,OAAA,MCzCA,QAAA,OAAA,0BAEA,OAAA,uBACA,WAEA,QAAA,GAAA,GAEA,IAAA,EAAA,MAAA,EAEA,IAAA,GAAA,EAAA,QAAA,qBAAA,UAEA,OAAA,GAIA,MAAA,MCfA,QAAA,OAAA,qBAEA,OAAA,iBAAA,WAEA,QAAA,GAAA,EAAA,EAAA,GAEA,IAAA,EAAA,MAAA,EAEA,GAAA,EAAA,EAAA,MAAA,KAAA,EAEA,IAAA,GAAA,iCAEA,EAAA,EAAA,QAAA,EAAA,SAAA,EAAA,GACA,GAAA,IAAA,EAAA,QAAA,EAAA,eACA,EAAA,EAAA,GAAA,EACA,EAAA,EAAA,GAAA,CACA,OAAA,IAGA,OAAA,GAIA,MAAA,KCvBA,QAAA,OAAA,mBAEA,OAAA,gBACA,WAEA,QAAA,GAAA,GAEA,IAAA,EAAA,MAAA,EAEA,IAAA,GAAA,EACA,cACA,QAAA,KAAA,KACA,QAAA,WAAA,GAGA,OAAA,GAIA,MAAA","sourcesContent":["angular.module('pmkr.components.filters', [\r\n  'pmkr.offset',\r\n  'pmkr.partition',\r\n  'pmkr.shuffle',\r\n  'pmkr.slugify',\r\n  'pmkr.stripTags',\r\n  'pmkr.spaceSentences',\r\n  'pmkr.limitEllipsis'\r\n]);","angular.module('pmkr.limitEllipsis', [\r\n  'pmkr.stripTags',\r\n  'pmkr.spaceSentences'\r\n])\r\n\r\n.filter('pmkr.limitEllipsis', [\r\n  '$filter',\r\n  function($filter) {\r\n\r\n    var stripTags = $filter('pmkr.stripTags');\r\n    var spaceSentences = $filter('pmkr.spaceSentences');\r\n    var limitTo = $filter('limitTo');\r\n\r\n    function filter(str, limit, ellipsis) {\r\n\r\n      if (!str || !str.length) { return str; }\r\n\r\n      ellipsis = ellipsis || '...';\r\n\r\n      var text = spaceSentences(stripTags(str));\r\n\r\n      var limited = limitTo(text, limit);\r\n\r\n      if (limited === text) {\r\n        return limited;\r\n      }\r\n\r\n      return limited+ellipsis;\r\n\r\n    }\r\n\r\n    return filter;\r\n\r\n  }\r\n])\r\n\r\n;","angular.module('pmkr.partition', [\r\n  'pmkr.filterStabilize'\r\n])\r\n\r\n.filter('pmkr.partition', [\r\n  'pmkr.filterStabilize',\r\n  function(stabilize) {\r\n\r\n    var filter = stabilize(function(input, size) {\r\n\r\n      if (!input || !size) {\r\n        return input;\r\n      }\r\n\r\n      var newArr = [];\r\n\r\n      for (var i = 0; i < input.length; i+= size) {\r\n        newArr.push(input.slice(i, i+size));\r\n      }\r\n\r\n      return newArr;\r\n\r\n    });\r\n\r\n    return filter;\r\n\r\n  }\r\n])\r\n\r\n;","angular.module('pmkr.offset', [])\r\n\r\n.filter('pmkr.offset', [\r\n  function() {\r\n\r\n    function filter(input, offset) {\r\n\r\n      if (!input || !input.length) { return input; }\r\n\r\n      offset = parseInt(offset, 10);\r\n      return input.slice(offset);\r\n\r\n    }\r\n\r\n    return filter;\r\n\r\n  }\r\n])\r\n\r\n;","angular.module('pmkr.shuffle', [\r\n  'pmkr.filterStabilize'\r\n])\r\n\r\n.filter('pmkr.shuffle', [\r\n  'pmkr.filterStabilize',\r\n  function(stabilize) {\r\n\r\n    var filter = stabilize(function(input) {\r\n\r\n      if (!input) { return input; }\r\n\r\n      if (typeof input === 'string') {\r\n        input = input.split('');\r\n        shuffle(input);\r\n        return input.join('');\r\n      } else {\r\n        shuffle(input);\r\n      }\r\n\r\n    });\r\n\r\n    // Fisher-Yates shuffle (https:github.com/coolaj86/knuth-shuffle)\r\n    function shuffle(arr) {\r\n\r\n      var currentIndex = arr.length;\r\n\r\n      while (0 !== currentIndex) {\r\n\r\n        var randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex-= 1;\r\n\r\n        var temporaryValue = arr[currentIndex];\r\n        arr[currentIndex] = arr[randomIndex];\r\n        arr[randomIndex] = temporaryValue;\r\n      }\r\n\r\n      return arr;\r\n\r\n    }\r\n\r\n    return filter;\r\n\r\n  }\r\n])\r\n\r\n;","angular.module('pmkr.spaceSentences', [])\r\n\r\n.filter('pmkr.spaceSentences', [\r\n  function() {\r\n\r\n    function filter(str) {\r\n\r\n      if (!str) { return str; }\r\n\r\n      var spaced = str.replace(/(\\w)([.!?]+)(\\w)/gi, '$1$2 $3');\r\n\r\n      return spaced;\r\n\r\n    }\r\n\r\n    return filter;\r\n\r\n  }\r\n])\r\n\r\n;","angular.module('pmkr.stripTags', [])\r\n\r\n.filter('pmkr.stripTags', function () {\r\n\r\n  function filter(str, tags, disallow)  {\r\n\r\n    if (!str) { return str; }\r\n\r\n    tags = tags ? tags.split(',') : '';\r\n\r\n    var regexp = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi;\r\n\r\n    var stripped = str.replace(regexp, function($0, $1) {\r\n      var found = ~tags.indexOf($1.toLowerCase());\r\n      var replace = disallow ? found : !found;\r\n      var replacement = !replace ? $0 : '';\r\n      return replacement;\r\n    });\r\n\r\n    return stripped;\r\n\r\n  }\r\n\r\n  return filter;\r\n\r\n})\r\n\r\n;","angular.module('pmkr.slugify', [])\r\n\r\n.filter('pmkr.slugify', [\r\n  function() {\r\n\r\n    function filter(str) {\r\n\r\n      if (!str) { return str; }\r\n\r\n      var slug = str\r\n        .toLowerCase()\r\n        .replace(/ /g, '-')\r\n        .replace(/[^\\w-]+/g, '')\r\n      ;\r\n\r\n      return slug;\r\n\r\n    }\r\n\r\n    return filter;\r\n\r\n  }\r\n])\r\n\r\n;"],"sourceRoot":"/source/"}